create-works-docker-image
--------------------

Построение докер-имид близких к серверам works pravo  front по версиzv PHP и составу установленных расширений.


Используется для локальной разработки и тестирования приложений.


**Tags**

* rgru/works:7.0.31 - близок по составу к серверам works, subsmag.
* rgru/works:7.0.31-pravo - близок по составу к серверу pravo (+ nodejs4.9 + npm3.5.2)
* rgru/works:5.6.38-front - близок по составу к серверу front (+ nodejs4.9 + npm3.5.2)
* rgru/works:7.2.11-front - близок по составу к серверу front PHP 7.2.11 (+ nodejs4.9 + npm3.5.2)
 

смотри  файлы build *  и Dockerfile





**Изготовление имиджа**

цифры в названиях означают версию ПХП


```sh
/.build*.sh
```
или

```sh
docker build -t rgru/works:7.0.31 .
```

**Выгрузка изготовленного имиджа в hub.docker.com**

```sh
docker login

docker push rgru/works:7.0.31
```


-----------------------
**Изготовление имиджа из готового контейнера**

Альтернативный способ изготовить образ без Dockerfile.
Стартовать какой нибудь стандартный контейнер. Залогиниться в него и установить все необходимое.
После этого изготовить образ из измененного контейнера. 

```sh
docker commit c16378f943fe local-image-name
docker tag local-image-name rgru/works:7.0.31
docker push rgru/works:7.0.31

```

c16378f943fe - идентификатор контейнера.
local-image-name - локальное имя нового контейнера



----------------------


**Загрузка имиджа на компьютер разработчика**


```sh
sudo docker pull rgru/works:7.0.31
```

Показать перечень установленных PHP расширений

```sh
sudo docker run --rm -it rgru/works:7.0.31 php -m
```


**Определение перечня необходимых для установки PHP расширений.**


Скрипты `missing--extensions.sh / py ` в папке `scripts/` служит для показа разницы в PHP расширениях между сервером и контейнером.
Используется при подготовке Dockerfile.
